module.exports = function(grunt) {

  // Load the plugin that provides the "concat" task.
  grunt.loadNpmTasks('grunt-contrib-concat');
  grunt.loadNpmTasks('grunt-contrib-jshint');
  grunt.loadNpmTasks('grunt-contrib-uglify');
  grunt.loadNpmTasks('grunt-jsdoc');

  // Project configuration.
  grunt.initConfig({
    pkg: grunt.file.readJSON('package.json'),
    concat: {
      options: {
        banner: '/*! <%= pkg.name %> <%= grunt.template.today("yyyy-mm-dd") %> */\n'
      },
      build: {
        files: {
          'bin/KraGL.cat.js': [
            'libs/*.js',
            'src/**/*.js'
          ]
        }
      }
    },
    jsdoc: {
      dist: {
        src: ['src/**/*.js'],
        options: {
          destination: 'docs/html'
        }
      }
    },
    jshint: {
      options: {
        browser: true,
        devel: true,
        eqeqeq: true,
        esversion: 6,
        freeze: true,
        funcscope: true,
        globals: {
          _: false,
          define: false,
          glmatrix: false,

          GL_ACTIVE_ATTRIBUTES: false,
          GL_ACTIVE_TEXTURE: false,
          GL_ACTIVE_UNIFORMS: false,
          GL_ALIASED_LINE_WIDTH_RANGE: false,
          GL_ALIASED_POINT_SIZE_RANGE: false,
          GL_ALPHA: false,
          GL_ALPHA_BITS: false,
          GL_ALWAYS: false,
          GL_ARRAY_BUFFER: false,
          GL_ARRAY_BUFFER_BINDING: false,
          GL_ATTACHED_SHADERS: false,
          GL_BACK: false,
          GL_BLEND: false,
          GL_BLEND_COLOR: false,
          GL_BLEND_DST_ALPHA: false,
          GL_BLEND_DST_RGB: false,
          GL_BLEND_SRC_ALPHA: false,
          GL_BLEND_SRC_RGB: false,
          GL_BLEND_EQUATION: false,
          GL_BLEND_EQUATION_ALHPA: false,
          GL_BLEND_EQUATION_RGB: false,
          GL_BLUE_BITS: false,
          GL_BOOL: false,
          GL_BOOL_VEC2: false,
          GL_BOOL_VEC3: false,
          GL_BOOL_VEC4: false,
          GL_BROWSER_DEFAULT_WEBGL: false,
          GL_BUFFER_SIZE: false,
          GL_BUFFER_USAGE: false,
          GL_BYTE: false,
          GL_CLAMP_TO_EDGE: false,
          GL_COLOR_ATTACHMENT0: false,
          GL_COLOR_BUFFER_BIT: false,
          GL_COLOR_CLEAR_VALUE: false,
          GL_COLOR_WRITEMASK: false,
          GL_COMPILE_STATUS: false,
          GL_COMPRESSED_TEXTURE_FORMATS: false,
          GL_CONSTANT_ALPHA: false,
          GL_CONSTANT_COLOR: false,
          GL_CONTEXT_LOST_WEBGL: false,
          GL_CULL_FACE: false,
          GL_CULL_FACE_MODE: false,
          GL_CURRENT_PROGRAM: false,
          GL_CURRENT_VERTEX_ATTRIB: false,
          GL_CW: false,
          GL_CCW: false,
          GL_DECR: false,
          GL_DECR_WRAP: false,
          GL_DELETE_STATUS: false,
          GL_DEPTH_ATTACHMENT: false,
          GL_DEPTH_BITS: false,
          GL_DEPTH_BUFFER_BIT: false,
          GL_DEPTH_CLEAR_VALUE: false,
          GL_DEPTH_COMPONENT: false,
          GL_DEPTH_COMPONENT16: false,
          GL_DEPTH_FUNC: false,
          GL_DEPTH_RANGE: false,
          GL_DEPTH_STENCIL: false,
          GL_DEPTH_STENCIL_ATTACHMENT: false,
          GL_DEPTH_TEST: false,
          GL_DEPTH_WRITEMASK: false,
          GL_DITHER: false,
          GL_DONT_CARE: false,
          GL_DST_ALPHA: false,
          GL_DST_COLOR: false,
          GL_DYNAMIC_DRAW: false,
          GL_ELEMENT_ARRAY_BUFFER: false,
          GL_ELEMENT_ARRAY_BUFFER_BINDING: false,
          GL_EQUAL: false,
          GL_FASTEST: false,
          GL_FLOAT: false,
          GL_FLOAT_MAT2: false,
          GL_FLOAT_MAT3: false,
          GL_FLOAT_MAT4: false,
          GL_FLOAT_VEC2: false,
          GL_FLOAT_VEC3: false,
          GL_FLOAT_VEC4: false,
          GL_FRAGMENT_SHADER: false,
          GL_FRAMEBUFFER: false,
          GL_FRAMEBUFFER_ATTACHMENT_OBJECT_NAME: false,
          GL_FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE: false,
          GL_FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE: false,
          GL_FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL: false,
          GL_FRAMEBUFFER_BINDING: false,
          GL_FRAMEBUFFER_COMPLETE: false,
          GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT: false,
          GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS: false,
          GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT: false,
          GL_FRAMEBUFFER_UNSUPPORTED: false,
          GL_FRONT: false,
          GL_FRONT_AND_BACK: false,
          GL_FRONT_FACE: false,
          GL_FUNC_ADD: false,
          GL_FUNC_REVERSE_SUBTRACT: false,
          GL_FUNC_SUBTRACT: false,
          GL_GENERATE_MIPMAP_HINT: false,
          GL_GEQUAL: false,
          GL_GREATER: false,
          GL_GREEN_BITS: false,
          GL_HIGH_FLOAT: false,
          GL_HIGH_INT: false,
          GL_IMPLEMENTATION_COLOR_READ_FORMAT: false,
          GL_IMPLEMENTATION_COLOR_READ_TYPE: false,
          GL_INCR: false,
          GL_INCR_WRAP: false,
          GL_INT: false,
          GL_INT_VEC2: false,
          GL_INT_VEC3: false,
          GL_INT_VEC4: false,
          GL_INVALID_ENUM: false,
          GL_INVALID_FRAMEBUFFER_OPERATION: false,
          GL_INVALID_OPERATION: false,
          GL_INVALID_VALUE: false,
          GL_INVERT: false,
          GL_KEEP: false,
          GL_LEQUAL: false,
          GL_LESS: false,
          GL_LINEAR: false,
          GL_LINEAR_MIPMAP_LINEAR: false,
          GL_LINEAR_MIPMAP_NEAREST: false,
          GL_LINES: false,
          GL_LINE_LOOP: false,
          GL_LINE_STRIP: false,
          GL_LINE_WIDTH: false,
          GL_LINK_STATUS: false,
          GL_LOW_FLOAT: false,
          GL_LOW_INT: false,
          GL_LUMINANCE: false,
          GL_LUMINANCE_ALPHA: false,
          GL_MAX_COMBINED_TEXTURE_IMAGE_UNITS: false,
          GL_MAX_CUBE_MAP_TEXTURE_SIZE: false,
          GL_MAX_FRAGMENT_UNIFORM_VECTORS: false,
          GL_MAX_RENDERBUFFER_SIZE: false,
          GL_MAX_TEXTURE_IMAGE_UNITS: false,
          GL_MAX_TEXTURE_SIZE: false,
          GL_MAX_VARYING_VECTORS: false,
          GL_MAX_VERTEX_ATTRIBS: false,
          GL_MAX_VERTEX_TEXTURE_IMAGE_UNITS: false,
          GL_MAX_VERTEX_UNIFORM_VECTORS: false,
          GL_MAX_VIEWPORT_DIMS: false,
          GL_MEDIUM_FLOAT: false,
          GL_MEDIUM_INT: false,
          GL_MIRRORED_REPEAT: false,
          GL_NEAREST: false,
          GL_NEAREST_MIPMAP_LINEAR: false,
          GL_NEAREST_MIPMAP_NEAREST: false,
          GL_NEVER: false,
          GL_NICEST: false,
          GL_NO_ERROR: false,
          GL_NONE: false,
          GL_NOTEQUAL: false,
          GL_ONE: false,
          GL_ONE_MINUS_CONSTANT_ALPHA: false,
          GL_ONE_MINUS_CONSTANT_COLOR: false,
          GL_ONE_MINUS_DST_ALPHA: false,
          GL_ONE_MINUS_DST_COLOR: false,
          GL_ONE_MINUS_SRC_ALPHA: false,
          GL_ONE_MINUS_SRC_COLOR: false,
          GL_OUT_OF_MEMORY: false,
          GL_PACK_ALIGNMENT: false,
          GL_POINTS: false,
          GL_POLYGON_OFFSET_FACTOR: false,
          GL_POLYGON_OFFSET_FILL: false,
          GL_POLYGON_OFFSET_UNITS: false,
          GL_RED_BITS: false,
          GL_RENDERBUFFER: false,
          GL_RENDERBUFFER_ALPHA_SIZE: false,
          GL_RENDERBUFFER_BINDING: false,
          GL_RENDERBUFFER_BLUE_SIZE: false,
          GL_RENDERBUFFER_DEPTH_SIZE: false,
          GL_RENDERBUFFER_GREEN_SIZE: false,
          GL_RENDERBUFFER_HEIGHT: false,
          GL_RENDERBUFFER_INTERNAL_FORMAT: false,
          GL_RENDERBUFFER_RED_SIZE: false,
          GL_RENDERBUFFER_STENCIL_SIZE: false,
          GL_RENDERBUFFER_WIDTH: false,
          GL_RENDERER: false,
          GL_REPEAT: false,
          GL_REPLACE: false,
          GL_RGB: false,
          GL_RGB5_1: false,
          GL_RGB565: false,
          GL_RGBA: false,
          GL_RGBA4: false,
          GL_SAMPLE_ALPHA_TO_COVERAGE: false,
          GL_SAMPLE_BUFFERS: false,
          GL_SAMPLE_COVERAGE: false,
          GL_SAMPLE_COVERAGE_INVERT: false,
          GL_SAMPLE_COVERAGE_VALUE: false,
          GL_SAMPLER_2D: false,
          GL_SAMPLER_CUBE: false,
          GL_SAMPLES: false,
          GL_SCISSOR_BOX: false,
          GL_SCISSOR_TEST: false,
          GL_SHADER_TYPE: false,
          GL_SHADING_LANGUAGE_VERSION: false,
          GL_SHORT: false,
          GL_SRC_ALPHA: false,
          GL_SRC_ALPHA_SATURATE: false,
          GL_SRC_COLOR: false,
          GL_STATIC_DRAW: false,
          GL_STENCIL_ATTACHMENT: false,
          GL_STENCIL_BACK_FAIL: false,
          GL_STENCIL_BACK_FUNC: false,
          GL_STENCIL_BACK_PASS_DEPTH_FAIL: false,
          GL_STENCIL_BACK_PASS_DEPTH_PASS: false,
          GL_STENCIL_BACK_REF: false,
          GL_STENCIL_BACK_VALUE_MASK: false,
          GL_STENCIL_BACK_WRITEMASK: false,
          GL_STENCIL_BITS: false,
          GL_STENCIL_BUFFER_BIT: false,
          GL_STENCIL_CLEAR_VALUE: false,
          GL_STENCIL_FAIL: false,
          GL_STENCIL_FUNC: false,
          GL_STENCIL_INDEX: false,
          GL_STENCIL_INDEX8: false,
          GL_STENCIL_PASS_DEPTH_FAIL: false,
          GL_STENCIL_PASS_DEPTH_PASS: false,
          GL_STENCIL_REF: false,
          GL_STENCIL_TEST: false,
          GL_STENCIL_VALUE_MASK: false,
          GL_STENCIL_WRITEMASK: false,
          GL_STREAM_DRAW: false,
          GL_SUBPIXEL_BITS: false,
          GL_TEXTURE: false,
          GL_TEXTURE0: false,
          GL_TEXTURE1: false,
          GL_TEXTURE2: false,
          GL_TEXTURE3: false,
          GL_TEXTURE4: false,
          GL_TEXTURE5: false,
          GL_TEXTURE6: false,
          GL_TEXTURE7: false,
          GL_TEXTURE8: false,
          GL_TEXTURE9: false,
          GL_TEXTURE10: false,
          GL_TEXTURE11: false,
          GL_TEXTURE12: false,
          GL_TEXTURE13: false,
          GL_TEXTURE14: false,
          GL_TEXTURE15: false,
          GL_TEXTURE16: false,
          GL_TEXTURE17: false,
          GL_TEXTURE18: false,
          GL_TEXTURE19: false,
          GL_TEXTURE20: false,
          GL_TEXTURE21: false,
          GL_TEXTURE22: false,
          GL_TEXTURE23: false,
          GL_TEXTURE24: false,
          GL_TEXTURE25: false,
          GL_TEXTURE26: false,
          GL_TEXTURE27: false,
          GL_TEXTURE28: false,
          GL_TEXTURE29: false,
          GL_TEXTURE30: false,
          GL_TEXTURE31: false,
          GL_TEXTURE_2D: false,
          GL_TEXTURE_BINDING_2D: false,
          GL_TEXTURE_BINDING_CUBE_MAP: false,
          GL_TEXTURE_CUBE_MAP: false,
          GL_TEXTURE_CUBE_MAP_NEGATIVE_X: false,
          GL_TEXTURE_CUBE_MAP_NEGATIVE_Y: false,
          GL_TEXTURE_CUBE_MAP_NEGATIVE_Z: false,
          GL_TEXTURE_CUBE_MAP_POSITIVE_X: false,
          GL_TEXTURE_CUBE_MAP_POSITIVE_Y: false,
          GL_TEXTURE_CUBE_MAP_POSITIVE_Z: false,
          GL_TEXTURE_MAG_FILTER: false,
          GL_TEXTURE_MIN_FILTER: false,
          GL_TEXTURE_WRAP_S: false,
          GL_TEXTURE_WRAP_T: false,
          GL_TRIANGLES: false,
          GL_TRIANGLE_FAN: false,
          GL_TRIANGLE_STRIP: false,
          GL_UNPACK_ALIGNMENT: false,
          GL_UNPACK_COLORSPACE_CONVERSION_WEBGL: false,
          GL_UNPACK_FLIP_Y_WEBGL: false,
          GL_UNPACK_PREMULTIPLY_ALPHA_WEBGL: false,
          GL_UNSIGNED_BYTE: false,
          GL_UNSIGNED_INT: false,
          GL_UNSIGNED_SHORT: false,
          GL_UNSIGNED_SHORT_4_4_4_4: false,
          GL_UNSIGNED_SHORT_5_5_5_1: false,
          GL_UNSIGNED_SHORT_5_6_5: false,
          GL_VALIDATE_STATUS: false,
          GL_VENDOR: false,
          GL_VERSION: false,
          GL_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING: false,
          GL_VERTEX_ATTRIB_ARRAY_ENABLED: false,
          GL_VERTEX_ATTRIB_ARRAY_NORMALIZED: false,
          GL_VERTEX_ATTRIB_ARRAY_POINTER: false,
          GL_VERTEX_ATTRIB_ARRAY_SIZE: false,
          GL_VERTEX_ATTRIB_ARRAY_STRIDE: false,
          GL_VERTEX_ATTRIB_ARRAY_TYPE: false,
          GL_VERTEX_SHADER: false,
          GL_VIEWPORT: false,
          GL_ZERO: false,

          KraGL: true,

          mat2: false,
          mat2d: false,
          mat3: false,
          mat4: false,
          quat: false,
          vec2: false,
          vec3: false,
          vec4: false
        },
        latedef: true,
        maxparams: 4,
        nonbsp: true,
        nonew: true,
        strict: true,
        undef: true,
        unused: true,
      },
      src: ['src/**/*.js']
    },
    uglify: {
      build: {
        files: {
          'bin/KraGL.min.js': ['bin/KraGL.cat.js']
        }
      }
    }
  });

  // Grunt task(s).
  grunt.registerTask('default', ['jshint', 'concat', 'jsdoc']);
};
